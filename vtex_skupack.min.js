var Vtex=Vtex||{};Vtex.JSEvents=Vtex.JSEvents||{};Vtex.Commerce=Vtex.Commerce||{};Vtex.Commerce.JSEvents=Vtex.Commerce.JSEvents||{};
var apply_sku_selection=function(){$.browser.msie&&$("*[name*='espec_']").click(function(){$(this).is("input:radio")&&(this.blur(),this.focus())});$("*[name*='espec_']").change(function(){var a=[],b=[],c="",d=0,a=getSelected();if(void 0===a[0].name)enableAllOptions();else{if(1<myJSONSkuSpecification.specifications){var d=0,e=Array(a.length);$.each(a,function(a,b){c=b.name;especPos=c.replace("espec_","");var h="";$.each(myJSONSkuSpecification.combination,function(a,c){if(c[b.value]){var f=0;e[d]=Array(c[b.value].length+
1);$.each(c[b.value],function(a,b){especPos==f&&f++;h="espec_"+f;"undefined"!=b[h]&&(e[d][f]=b[h]);f++})}});e[d][especPos]=getValuesOptions(c);d++});$.each(e,function(a,c){0==a?$.each(c,function(a,c){b[a]=c.split(",")}):$.each(c,function(a,c){b[a]=c.split(",").intersect(b[a])})});for(j=0;j<myJSONSkuSpecification.specifications;j++)a="*[name='espec_"+j+"']",$(a).is("input:radio")?$(a).each(function(){$(this).attr("disabled","disabled");$("label[for='"+$(this).attr("id")+"']").removeClass("sku-picked")}):
($(a).find("option").each(function(){$(this).attr("disabled","disabled")}),$(a).find("option:first").each(function(){$(this).removeAttr("disabled")}));enableOptions(b);checkSelected(b)}else for(j=0;j<myJSONSkuSpecification.specifications;j++)a="*[name='espec_"+j+"']",$(a).is("input:radio")&&$(a).each(function(){$("label[for='"+$(this).attr("id")+"']").removeClass("sku-picked")});$("label[for='"+$(this).attr("id")+"']").addClass("sku-picked");getSku();notifymeOnButtomOkClick()}})};
Array.prototype.intersect=function(){if(!arguments.length)return[];for(var a=this,b=a2=null,c=0;c<arguments.length;){b=[];a2=arguments[c];for(var d=a.length,e=a2.length,f=0;f<d;f++)for(var g=0;g<e;g++)a[f]===a2[g]&&b.push(a[f]);a=b;c++}return b.unique()};Array.prototype.unique=function(){for(var a=[],b=this.length,c=0;c<b;c++){for(var d=c+1;d<b;d++)this[c]===this[d]&&(d=++c);a.push(this[c])}return a};
var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}},Namespace={create:function(a){var b=!1,c="";a=a.split(".");for(var d=0;d<a.length;d++)""!=c&&(c+="."),c+=a[d],(b=this.exists(c))||this.add(c)},add:function(a){eval("window."+a+" = new Object();")},exists:function(a){eval("var NE = false; try{if("+a+"){NE = true;}else{NE = false;}}catch(err){NE=false;}");return NE}};Array.prototype.contains=function(a){for(i=0;i<this.length;i++)if(this[i]==a)return!0;return!1};
Array.prototype.add=function(a){this.unshift(a);$.unique(this)};Array.prototype.remove=function(a){for(var b=!1,c=0;c<this.length&&!b;)this[c]==a&&(this.splice(c,1),b=!0),c++};String.prototype.format=function(){var a=arguments;if("object"===typeof a[0]){var b=a[0];return this.replace(/{(\w+)}/g,function(a,d){return"undefined"!=typeof b[d]?b[d]:a})}return this.replace(/{(\d+)}/g,function(b,d){return"undefined"!=typeof a[d]?a[d]:b})};
$.fn.serializeObject=function(){var a={},b=this.serializeArray();$.each(b,function(){void 0!==a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""});return a};Number.prototype.padLeft=function(a){var b=this.toFixed(0);a-=b.length;for(var c="";0<a;)c+="0",a--;return c+b};
Number.prototype.toBrazilianCurrency=function(){var a=this.toFixed(2),b=parseInt(a.split(".")[1]),a=parseInt(a.split(".")[0]);return"R$ "+addSeparators(a,".")+","+b.padLeft(2)};function addSeparators(a,b){for(var c=0,d=a,e="";999<d;)c=d%1E3,d=(d-c)/1E3,e+=c.padLeft(3),0<d&&(e=b+e);0<d&&(e=d.toFixed(0)+e);return""==e?"0":e}Namespace.create("Vtex");Namespace.create("Vtex.JSEvents");Vtex.JSEvents.EventArgs=Class.create();Vtex.JSEvents.EventArgs.prototype={initialize:function(){}};
Vtex.JSEvents.Listener=Class.create();Vtex.JSEvents.Listener.prototype={initialize:function(a,b){this.name=a;this.callback=b},notify:function(a){this.callback(a)}};Vtex.JSEvents.Event=Class.create();Vtex.JSEvents.Event.prototype={initialize:function(a){this.id=a;this.listeners=[]},addListener:function(a){this.listeners.push(a)},fire:function(a){for(var b,c=0;c<this.listeners.length;c++)b=this.listeners[c],b.notify(a)}};Vtex.JSEvents.EventDispatcher=Class.create();
Vtex.JSEvents.EventDispatcher.prototype={events:{},initialize:function(){},registerEvent:function(a){this.events[a.id]=a},addListener:function(a,b){var c=this.events[a];null!=c&&c.addListener(b)},fireEvent:function(a){this.fireEvent(a,new Vtex.JSEvents.EventArgs)},fireEvent:function(a,b){var c=this.events[a];null!=c&&c.fire(b)}};Namespace.create("Vtex.Commerce.JSEvents");
var skuSelectionChangedEventName="skuSelectionChanged",skuDataReceivedEventName="skuDataReceived",skuImageRelatedSpecSelectedEventName="skuImageRelatedSpecSelected";Vtex.Commerce.JSEvents.SkuData=Class.create();
Vtex.Commerce.JSEvents.SkuData.prototype={initialize:function(){this.idProduct=this.id=0;this.name="";this.price=this.listPrice=0;this.availability=!1;this.availabilitymessage="";this.bestInstallmentNumer=this.bestInstallmentValue=0;this.images=[];this.reference="";this.HasServiceAtServicePage=this.HasServiceAtCartPage=this.HasServiceAtProductPage=this.notifyMe=this.hasExtendedWarrantyPage=this.hasExtendedWarranty=!1;this.RewardValue=this.RealWeightKg=this.RealLength=this.RealWidth=this.RealHeight=
0;this.Ean=""}};var ListSkuData=[];Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs=Class.create();Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs.prototype=new Vtex.JSEvents.EventArgs;Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs.prototype.newSkuId=0;Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs.prototype.productIndex=0;Vtex.Commerce.JSEvents.SkuDataReceivedEventArgs=Class.create();Vtex.Commerce.JSEvents.SkuDataReceivedEventArgs.prototype=new Vtex.JSEvents.EventArgs;
Vtex.Commerce.JSEvents.SkuDataReceivedEventArgs.prototype.skuData=null;Vtex.Commerce.JSEvents.SkuDataReceivedEventArgs.prototype.productIndex=0;var skuSelectionChanged=new Vtex.JSEvents.Event(skuSelectionChangedEventName),skuDataReceived=new Vtex.JSEvents.Event(skuDataReceivedEventName),skuImageRelatedSpecSelected=new Vtex.JSEvents.Event(skuImageRelatedSpecSelectedEventName),skuEventDispatcher=new Vtex.JSEvents.EventDispatcher;skuEventDispatcher.registerEvent(skuSelectionChanged);skuEventDispatcher.registerEvent(skuDataReceived);
skuEventDispatcher.registerEvent(skuImageRelatedSpecSelected);function FireSkuSelectionChanged(a,b){var c=new Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs;c.newSkuId=a;c.productIndex=b;skuEventDispatcher.fireEvent(skuSelectionChangedEventName,c)}function FireSkuDataReceived(a,b){var c=new Vtex.Commerce.JSEvents.SkuDataReceivedEventArgs;c.skuData=a;c.productIndex=b;skuEventDispatcher.fireEvent(skuDataReceivedEventName,c)}
function FireSkuChangeImage(a){var b=new Vtex.Commerce.JSEvents.SkuSelectionChangedEventArgs;b.newSkuId=a;skuEventDispatcher.fireEvent(skuImageRelatedSpecSelectedEventName,b)}function force(){}var skuDataFetcherListener=new Vtex.JSEvents.Listener("skuDataFetcher",SkuDataFetcher_OnSkuSelectionChanged);skuEventDispatcher.addListener(skuSelectionChangedEventName,skuDataFetcherListener);
function SkuDataFetcher_OnSkuSelectionChanged(a){var b=getSkuData(a.newSkuId);FireSkuDataReceived(b,a.productIndex)}
function getSkuData(a){var b=new Vtex.Commerce.JSEvents.SkuData;0<a?(void 0===ListSkuData["sku"+a]&&$.ajax({type:"GET",url:"/produto/sku/"+a,dataType:"json",async:!1,success:function(a){for(var d in a)isNaN(d)||(b.id=a[d].Id,b.idProduct=a[d].IdProduct,b.name=a[d].Name,b.listPrice=a[d].ListPrice,b.price=a[d].Price,b.availability=a[d].Availability,b.availabilitymessage=a[d].AvailabilityMessage,b.bestInstallmentValue=a[d].BestInstallmentValue,b.bestInstallmentNumber=a[d].BestInstallmentNumber,b.images=
a[d].Images,b.reference=a[d].Reference,b.hasExtendedWarranty=a[d].HasExtendedWarranty,b.hasExtendedWarrantyPage=a[d].HasExtendedWarrantyPage,b.notifyMe=a[d].NotifyMe,b.HasServiceAtServicePage=a[d].HasServiceAtServicePage,b.HasServiceAtCartPage=a[d].HasServiceAtCartPage,b.HasServiceAtProductPage=a[d].HasServiceAtProductPage,b.RealHeight=a[d].RealHeight,b.RealWidth=a[d].RealWidth,b.RealLength=a[d].RealLength,b.RealWeightKg=a[d].RealWeightKg,b.RewardValue=a[d].RewardValue,b.Ean=a[d].Ean,ListSkuData["sku"+
a[d].Id]=b)},error:function(){alert("erro ao buscar objeto SKU")}}),b=ListSkuData["sku"+a]):alert("SKU nao encontrado");return b}function getValuesOptions(a){a="*[name='"+a+"']";var b="";$(a).is("input:radio")?$(a).each(function(){b+=","+$(this).val()}):$(a).find("option").each(function(){$(this).val()&&""!=$(this).val()&&(b+=","+$(this).val())});return b.substring(1)}
function enableOptions(a){$.each(a,function(a,c){$.each(c,function(c,e){var f="[name='espec_"+a+"']",f=$(f).is("input:radio")?"input"+f+"[value='"+e+"']":"select"+f+" option[value="+e+"]";$(f).removeAttr("disabled")})})}function enableAllOptions(){for(j=0;j<myJSONSkuSpecification.specifications;j++){var a="*[name='espec_"+j+"']";$(a).is("input:radio")?$(a).each(function(){$(this).removeAttr("disabled")}):$(a).find("option").each(function(){$(this).removeAttr("disabled")})}}
function checkSelected(){for(j=0;j<myJSONSkuSpecification.specifications;j++){var a="*[name='espec_"+j+"']";$(a).is("input:radio")?$(a).each(function(){$(this).is(":checked")&&$(this).is(":disabled")?$(this).removeAttr("checked"):$(this).is(":checked")&&$("label[for='"+$(this).attr("id")+"']").addClass("sku-picked")}):$(a).find("option").each(function(){$(this).is(":selected")&&$(this).is(":disabled")&&($(this).removeAttr("selected"),$(a).find("option:first").each(function(){$(this).attr("selected",
"selected")}))})}}function getSelected(){var a="",b=0,c=0,d=0;if(0<$(".sku-selector").length)for(;;){if(0<$("#espec_"+c+"_opcao_0").length)for(var e=0;;){var f="#espec_"+c+"_opcao_"+e,g="";if(0<$(f).length)$(f).is("input:radio")?$(f).is(":checked")&&(g=$(f).val(),b++):$(f).val()&&""!=$(f).val()&&(g=$(f).val(),b++),""!=g&&(a+=",{'value':'"+g+"',",a+="'name':'espec_"+c+"'}",d++);else break;e++}else break;c++}a=""==a?"[{}]":"["+a.substring(1)+"]";return eval("("+a+")")}
function getSku(){var a=getSelected();if(a.length==myJSONSkuSpecification.specifications){var b="";$.each(a,function(a,c){b+=","+c.value});var b=b.substring(1),c=null;$.each(myJSONSkuSpecification.skus,function(a,e){if(e[b])return c=e[b],!1});FireSkuSelectionChanged(c)}}$(document).ready(function(){var a=new Vtex.JSEvents.Listener("skuPriceListener",SkuPrice_OnSkuDataReceived);skuEventDispatcher.addListener(skuDataReceivedEventName,a)});
function SkuPrice_OnSkuDataReceived(a){if(0<a.skuData.id){var b=a.productIndex;void 0==b&&(b=0);!1==a.skuData.availability?($(".valor-de[productIndex="+b+"]").attr("style","display:none"),$(".valor-por[productIndex="+b+"]").attr("style","display:none"),$(".valor-dividido[productIndex="+b+"]").attr("style","display:none"),$(".preco-a-vista[productIndex="+b+"]").attr("style","display:none"),$(".economia-de[productIndex="+b+"]").attr("style","display:none")):($(".valor-por[productIndex="+b+"]").attr("style",
"display:block"),a.skuData.price<a.skuData.listPrice?($(".valor-de[productIndex="+b+"]").attr("style","display:block"),$(".skuListPrice[productIndex="+b+"]").html("R$ "+FormatNumber(a.skuData.listPrice))):$(".valor-de[productIndex="+b+"]").attr("style","display:none"),$(".skuBestPrice[productIndex="+b+"]").html("R$ "+FormatNumber(a.skuData.price)),1<a.skuData.bestInstallmentNumber?($(".valor-dividido[productIndex="+b+"]").attr("style","display:block"),$(".preco-a-vista[productIndex="+b+"]").attr("style",
"display:none")):($(".valor-dividido[productIndex="+b+"]").attr("style","display:none"),$(".preco-a-vista[productIndex="+b+"]").attr("style","display:block")),$(".skuBestInstallmentNumber[productIndex="+b+"]").html(a.skuData.bestInstallmentNumber),$(".skuBestInstallmentValue[productIndex="+b+"]").html("R$ "+FormatNumber(a.skuData.bestInstallmentValue)))}}
(function(a){a.fn.extend({currency:function(b){var c={s:",",d:".",c:2},c=a.extend({},c,b);return this.each(function(){var b=c.n||a(this).text(),b="number"===typeof b?b:/\./.test(b)?parseFloat(b):parseInt(b);s=0>b?"-":"";i=parseInt(b=Math.abs(+b||0).toFixed(c.c))+"";j=3<(j=i.length)?j%3:0;a(this).text(s+(j?i.substr(0,j)+c.s:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+c.s)+(c.c?c.d+Math.abs(b-i).toFixed(c.c).slice(2):""));return this})}})})(jQuery);jQuery.currency=function(a,b){return jQuery("<span>").text(a).currency(b).text()};
function FormatNumber(a){return $.currency(a,{s:".",d:",",c:2})}var notifymeTitle="",notifymeUrl="",notifymeError="",notifymeSuccess="",notifymeLoading="",notifymeskuData=new Vtex.Commerce.JSEvents.SkuData;$(document).ready(function(){var a=new Vtex.JSEvents.Listener("buyButtonListener",BuyButton_OnSkuDataReceived);skuEventDispatcher.addListener(skuDataReceivedEventName,a)});
function BuyButton_OnSkuDataReceived(a){if(0<a.skuData.id){notifymeskuData=a;var b=$(".buy-button-amount").attr("value");!0==a.skuData.availability?(!0==a.skuData.HasServiceAtServicePage?null!=b&&"0"!=b?$(".buy-button").attr("href","/Site/Servicos.aspx?IdProduto="+a.skuData.idProduct+"&IdSku="+a.skuData.id+"&quantidade="+b):$(".buy-button").attr("href","/Site/Servicos.aspx?IdProduto="+a.skuData.idProduct+"&IdSku="+a.skuData.id):null!=b&&"0"!=b?$(".buy-button").attr("href","/Site/Carrinho.aspx?IdSku="+
a.skuData.id+"&quantidade="+b):$(".buy-button").attr("href","/Site/Carrinho.aspx?IdSku="+a.skuData.id),$(".unavailable-button").attr("style","display:none"),$(".notifyme").hide(),notifymeToggleForm($(".notifyme"),!1),$(".buy-button").attr("style","display:block")):($(".buy-button").attr("style","display:none"),a.skuData.notifyMe?($(".unavailable-button").attr("style","display:none"),$(".notifyme").show(),notifymeToggleForm($(".notifyme"),!0)):($(".unavailable-button").attr("style","display:block"),
$(".notifyme").hide(),notifymeToggleForm($(".notifyme"),!1)))}}$(document).ready(function(){0<$(".notifyme").length&&notifymeOnButtomOkClick()});
function notifymeOnButtomOkClick(){if(0>=$(".notifyme-button-ok").length||0<$(".notifyme-button-ok.active").length)return!1;$(".notifyme-button-ok").not(".active").addClass("active").click(function(){var a="",a=void 0===notifymeskuData.skuData||void 0===notifymeskuData.skuData.id?$(".notifyme-skuid").val():notifymeskuData.skuData.id,b=$(".notifyme-client-name").val(),c=$(".notifyme-client-email").val(),b=b.replace("Digite seu nome...",""),c=c.replace("Digite seu e-mail...","");0<b.length&&notifymeCheckEmail(c)&&
(notifymeTitle=$(".notifyme-title").val(),notifymeSuccess=$(".notifyme-success").val(),notifymeError=$(".notifyme-error").val(),notifymeLoading="<p class='notifyme-loading-message'>"+$(".notifyme-loading").val()+"</p>",ajaxRequest("POST","/no-cache/AviseMe.aspx",{notifymeClientName:b,notifymeClientEmail:c,notifymeIdSku:a},".notifyme",""))})}function notifymeSelect(a,b){a.value==b?a.value="":a.select()}function notifymeLeave(a,b){""==jQuery.trim(a.value)&&(a.value=b)}
function ajaxRequest(a,b,c,d,e){$(d).append(notifymeLoading);$.ajax({type:a,url:b,data:c,success:function(a){if(null!=d&&""!=d){var b=$(d);notifymeToggleForm(b,!1);"true"==a?b.append(notifymeMakeSuccessMessage()):b.append(notifymeMakeErrorMessage())}null!=e&&""!=e&&e()},error:function(){notifymeToggleForm($(d),!1);$(d).append(notifymeMakeErrorMessage())}})}
function notifymeToggleForm(a,b){b?a.find(".notifyme-form").show():a.find(".notifyme-form").hide();a.find("input.notifyme-client-name").val("Digite seu nome...");a.find("input.notifyme-client-email").val("Digite seu e-mail...");a.find("fieldset.error, fieldset.success, p.notifyme-loading-message").remove()}function notifymeMakeSuccessMessage(){return'<fieldset class="success"><label><em>'+notifymeSuccess+"</em></label></fieldset>"}function notifymeMakeTitle(){return"<h3>"+notifymeTitle+"</h3>"}
function notifymeMakeErrorMessage(){return'<fieldset class="error"><label>'+notifymeError+"</label></fieldset>"}function notifymeCheckEmail(a){if(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(a))return!0;notifymeError="Email inv\u00e1lido, digite novamente";-1==$(".notifyme").html().indexOf(notifymeMakeErrorMessage())&&$(".notifyme").append(notifymeMakeErrorMessage());return!1};